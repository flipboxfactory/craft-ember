{% macro expandableElement(context) %}
    {% from _self import fancyElement %}
    {{ fancyElement('element-expandable', null, context) }}
{% endmacro %}

{% macro iconElement(context) %}
    {% from _self import fancyElement %}
    {{ fancyElement('element-icon', null, context) }}
{% endmacro %}

{% macro hudElement(context) %}
    {% set hudID = "element-hud-"~random() %}
    {% from _self import fancyElement %}
    {{ fancyElement('element-hud', hudID, context) }}
    {% js %}
        new Craft.ElementInfoHUD($("#{{ hudID }}"));
    {% endjs %}
{% endmacro %}

{% macro fancyElement(class, id, context) %}
    {% do view.registerAssetBundle('flipbox\\ember\\web\\assets\\elements\\Elements') %}
    {% set elementHtml %}
        {%  include "_elements/element" with context only %}
    {% endset %}
    {% set replaceString = 'class="'~(class ? class~' ' : '')~' element ' %}
    {% if id %}
        {% set replaceString = 'id="'~id~'" '~replaceString %}
    {% endif %}
    {{ elementHtml|replace({'class="element ': replaceString})|raw }}
{% endmacro %}